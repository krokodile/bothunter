<% promocode = params[:promocode].present? %>

<div class="row show-grid">
  <div class="span4 columns">&#8201;</div>
  <div class="span4 columns">
    <h2>
      <%= promocode ? 'Регистрация по промо-коду' : 'Запрос приглашения' %>
    </h2>

    <%= semantic_form_for(resource, as: resource_name, url: registration_path(resource_name, promocode: params[:promocode]), html: { class: "form-stacked" }) do |f| %>
      <%= f.input :full_name, required: false, input_html: { tabindex: 1, autofocus: true } %>
      <%= f.input :email, required: false, input_html: { tabindex: 2 } %>
      <%= f.input :phone_number, required: false, input_html: { tabindex: 3 } %>
      <%= f.input :company, required: false, input_html: { tabindex: 4 } %>
      <%= f.input :password, required: false, input_html: { tabindex: 5 } %>
      <%= f.input :password_confirmation, required: false, input_html: { tabindex: 6 } %>

      <% if promocode %>
        <%= f.input :promocode_value, required: false, input_html: { tabindex: 7 } %>
      <% else %>
        <%= f.input :message, as: :text, required: false, input_html: { tabindex: 7 } %>
      <% end %>

      <%= f.submit (promocode ? "Зарегистрироваться" : "Отправить запрос"), class: 'btn info', tabindex: 8 %>
    <% end %>
  </div>

  <div class="span4 columns">
    <%= link_to "Войти", new_session_path(resource_name), class: 'btn info second' %>
  </div>
  <div class="span4 columns">&#8201;</div>
</div>
